# 📁 Telegram客户号码统计机器人 - 项目结构

## 🏗️ 清理后的项目结构

```
telegram-phone-bot/
├── 📄 README.md                    # 项目说明文档
├── 📄 requirements.txt             # Python依赖包列表
├── 📄 项目结构.md                  # 本文件 - 项目结构说明
├── 📖 部署指南.md                  # 完整部署指南
├── 🚀 启动机器人.py                # 智能启动脚本（合并版）
├── 🗑️ 清空数据库.py               # 数据库清空工具
│
├── 📂 核心模块/                    # 机器人核心功能模块
│   ├── 📄 __init__.py             # 包初始化文件
│   ├── ⚙️ 配置管理.py             # 配置和环境管理
│   ├── 🗄️ 数据库管理.py           # SQLite数据库操作
│   ├── 🔍 号码检测器.py           # 电话号码识别和验证
│   ├── 📢 通知系统.py             # 消息格式化和通知
│   ├── 📤 导出管理器.py           # 数据导出功能
│   └── 🤖 机器人主程序.py         # Telegram机器人主逻辑
│
├── 📂 配置文件/                    # 配置和环境变量
│   ├── 📄 环境配置.env            # 实际环境变量（包含密钥）
│   ├── 📄 环境配置模板.env        # 环境变量模板
│   └── 📄 依赖包列表.txt          # 详细的依赖包信息
│
└── 📂 .github/workflows/          # GitHub Actions工作流
    ├── 🚀 deploy-bot.yml          # 主部署工作流
    ├── 🔄 keep-alive.yml          # 保持运行工作流
    ├── 🏥 health-check.yml        # 健康检查工作流
    ├── 💾 backup-data.yml         # 数据备份工作流
    └── 🗑️ clear-database.yml      # 数据库清空工作流
```

## 📋 文件说明

### 🚀 启动脚本
- **启动机器人.py**: 智能启动脚本（合并版），支持冲突检测、自动重试、命令行参数等功能

### 🧩 核心模块
- **配置管理.py**: 处理环境变量、日志配置、数据库路径等
- **数据库管理.py**: SQLite数据库的创建、查询、更新操作
- **号码检测器.py**: 智能识别各种格式的电话号码
- **通知系统.py**: 格式化消息、发送通知、处理用户交互
- **导出管理器.py**: 数据导出为CSV、JSON、TXT格式
- **机器人主程序.py**: Telegram Bot的主要逻辑和命令处理

### ⚙️ 配置文件
- **环境配置.env**: 包含BOT_TOKEN等敏感信息
- **环境配置模板.env**: 环境变量的模板文件
- **依赖包列表.txt**: 详细的Python包依赖信息

### 🔄 GitHub Actions工作流
- **deploy-bot.yml**: 主部署流程，每6小时重启
- **keep-alive.yml**: 备用实例，每6小时10分钟启动
- **health-check.yml**: 每小时检查机器人状态
- **backup-data.yml**: 每日备份数据库和日志
- **clear-database.yml**: 手动触发的数据库清空工具

## 🗑️ 已删除的文件

以下文件和目录已被清理：
- ❌ `__pycache__/` - Python缓存文件
- ❌ `工具脚本/` - 旧的工具脚本
- ❌ `文档说明/` - 重复的文档文件
- ❌ `日志数据/` - 旧的日志和数据库文件
- ❌ `测试文件/` - 测试文件
- ❌ `bot.log` - 旧的日志文件
- ❌ `phone_records.db` - 旧的数据库文件
- ❌ `GitHub部署指南.md` - 重复的文档
- ❌ 各种临时脚本和报告文件

## 🎯 项目特点

### ✅ 优势
- **简洁清晰**: 只保留必要的文件
- **模块化设计**: 功能分离，易于维护
- **自动化部署**: 完整的CI/CD流程
- **智能冲突避免**: 防止多实例运行
- **数据安全**: 自动备份和清空功能

### 🚀 部署方式
- **GitHub Actions**: 完全免费的24/7托管
- **自动重启**: 确保服务连续运行
- **健康监控**: 自动检测和恢复
- **数据管理**: 备份和清空工具

---

## 📊 总结

经过优化后，项目现在具有：
- **16个核心文件** (之前有40+个文件)
- **智能启动脚本** (合并了两个启动脚本)
- **完整的部署指南** (详细的使用说明)
- **清晰的目录结构**
- **完整的功能保留**
- **优化的部署流程**

这是一个生产就绪的、专业的Telegram机器人项目！🎉
